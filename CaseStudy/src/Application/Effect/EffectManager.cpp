//==============================================================================
//
// EffectManager
// Author: Shimizu Shoji
//
//==============================================================================
//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
// include
//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
#include "EffectManager.h"

#include <algorithm>

//==============================================================================
// class implementation
//==============================================================================
//------------------------------------------------
// ctor
//------------------------------------------------
EffectManager::EffectManager() {
}

//------------------------------------------------
// dtor
//------------------------------------------------
EffectManager::~EffectManager() {
}

//------------------------------------------------
// Update
//------------------------------------------------
void EffectManager::Update(void) {
  _Foreach([](Effect& effect) {
    effect.Update();
  });
}

//------------------------------------------------
// Draw
//------------------------------------------------
void EffectManager::Draw(void) {
  _Foreach([](Effect& effect) {
    effect.Draw();
  });
}

//------------------------------------------------
// Create a effect
//------------------------------------------------
void EffectManager::Create(void) {
  effect_list_[0].Alive();
}

//------------------------------------------------
// Internal Foreach
//------------------------------------------------
void EffectManager::_Foreach(void(*function)(Effect&)) {
  std::for_each(effect_list_.begin(), effect_list_.end(), function);
}
