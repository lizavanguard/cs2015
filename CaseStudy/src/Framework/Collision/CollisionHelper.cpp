//==============================================================================
//
// CollisionHelper
// Author: Shimizu Shoji
//
//==============================================================================
//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
// include
//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
#include "CollisionHelper.h"

//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
// prototype
//--=----=----=----=----=----=----=----=----=----=----=----=----=----=----=----=
//------------------------------------------------
// 2“_ŠÔ‚Ì‹——£‚Ì2æ‚ğ•Ô‚·[2D]
// ‰ÁZ‚ÆŒ¸Z‚ªo—ˆ‚é‚±‚Æ‚ªˆÃ–Ù‚ÌŒ^ğŒ
//------------------------------------------------
template<typename T>
T CalcDist2(const T& ax, const T& ay, const T& bx, const T& by);

//==============================================================================
// function implementation
//==============================================================================
//------------------------------------------------
// ‹…x‹…‚ÌÕ“Ë”»’è[2D]
//------------------------------------------------
bool IsSphereHit2(const float ax, const float ay, const float ar,
                  const float bx, const float by, const float br) {
  const float length = CalcDist2(ax, ay, bx, by);
  return (ar + br) * (ar + br) > length;
}

//==============================================================================
// internal function implementation
//==============================================================================
//------------------------------------------------
// 2“_ŠÔ‚Ì‹——£‚Ì2æ‚ğ•Ô‚·[2D]
// ‰ÁZ‚ÆŒ¸Z‚ªo—ˆ‚é‚±‚Æ‚ªˆÃ–Ù‚ÌŒ^ğŒ
//------------------------------------------------
template<typename T>
T CalcDist2(const T& ax, const T& ay, const T& bx, const T& by) {
  const T dx = (ax - bx) * (ax - bx);
  const T dy = (ay - by) * (ay - by);
  return dx + dy;
}
